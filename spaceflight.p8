pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--spaceflight


function _init()

 ts=0
 
 ship_weapons={
  { --basic projectile
   color=10,
   dmg=8,
   energy=8,
  },  
  { --double dmg projectile
   color=9,
   dmg=16,
   energy=16,
  },
  { --laser blue
   color=12,
   dmg=64,
   energy=64,
  }
 }
 
 ship_bases={
  { --base 0 - basic - default
   sprite=0, 
   width=5,
   shields=1024,
   health=1024,
   upgraded=false,
   weapons={
    {ship_weapons[1], 7, -1},
    {nil, 4, 2},
    {nil,11, 2}, 
   },
  },
  { --base 2 - laser - default
   sprite=0, 
   width=5,
   shields=1024,
   health=1024,
   upgraded=false,
   weapons={
    {ship_weapons[3], 7, -1},
    {nil, 4, 2},
    {nil,11, 2}, 
   },
  },
 }
 
 ship_engines={
  --engine 0 - basic
  {
   sprite=16,
   width=6,
   battery_cap=1024,
  },
 }
 
 ship={
  x=127/2,
  y=110,
  shots={},
  base=ship_bases[1],
  engine=ship_engines[1],
 }

 enemys={} 

end


function _update60()
 ts+=1
 if btn(5) then
 end
 if btn(0) and btn(2) then
  ship.x-=1
  ship.y-=1
 elseif btn(1) and btn(2) then
  ship.x+=1
  ship.y-=1
 elseif btn(1) and btn(3) then
  ship.x+=1
  ship.y+=1
 elseif btn(0) and btn(3) then
  ship.x-=1
  ship.y+=1
 elseif btn(0) then -- links
  ship.x-=1 
 elseif btn(1) then --rechts 
  ship.x+=1
 elseif btn(2) then --oben
  ship.y-=1
 elseif btn(3) then --links
  ship.y+=1
 end
 ship.x=mid(0,ship.x, 127-16)
 ship.y=mid(0,ship.y, 127-16)
end


function _draw()
 cls()
 draw_ship(ship)
 line(ship.x+4, ship.y+2, ship.x+4, ship.y)
end


function draw_ships()
 for s in all(ships) do
  draw_ship(s)
 end
end

function draw_ship(s)
 spr(s.base.sprite, --left half
     s.x,
     s.y)
 spr(s.base.sprite, --right half
     s.x+8,
     s.y,
     1,
     1,
     true,
     false)
 if (ts%12) > 6 then
  spr(s.engine.sprite, --left half
      s.x,
      s.y+8)
  spr(s.engine.sprite, --right half
      s.x+8,
      s.y+8,
      1,
      1,
      true,
      false)
 else
  spr(s.engine.sprite+16, --left half
      s.x,
      s.y+8)
  spr(s.engine.sprite+16, --right half
      s.x+8,
      s.y+8,
      1,
      1,
      true,
      false)
 end
end
__gfx__
00000005505000060000000700000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000005c5c5000610000007100000061000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000500655c500066080800670bbb0066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000590665c50006605850066b555b066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000595665c5005660585056605b50566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000565555c566555056565550b6b6555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000565cc5c5ccccc056565cc056565cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00055509555666090555550905555509000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555506555555665555509a05550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0056660b5566666d0000009a95955555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555bb005ddddd60000009aa9599999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000500005666660000009a9a955555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000009000566650000009a09a99999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000009a0000565900000009009aaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000009a0000059a0000000000099999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000009000000090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555506555555665555509a05550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0056660b5566666d0000009a95955555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00555bb005ddddd60000009aa9599999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000500005666660000009a9a955555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000009000566650000009a09a99999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000009a000056590000009a09aaaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000009000005900000009a009aaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000900099999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005050000660000505000000000005500000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005c500061160005c500000000005cc50000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005c500066660005c5000005050065560050500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005c500066660005c5000005950066660059500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005c500566665005c5000005950566665059500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005c566555555665c5000005656555555656500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005c5cccccccccc5c50000056565cccc5656500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005556660990666555000005555509905555500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005555556666555555000055555506605555550000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000005566666dd666665500005666660bb06666650000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000005ddddd66ddddd50000055555bb00bb555550000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000056666666666500000000000500005000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000005666556665000000000000009900000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000056599565000000000000009aa90000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000059aa950000000000000009aa90000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000990000000000000000009900000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

